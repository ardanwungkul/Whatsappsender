import{k as o,h as d,c as p,o as l,w as f,a as g,b as s,d as v,i as x,f as _,g as b,q as k,t as w,s as y,x as i,N as h}from"./app-DaEaz9g1.js";import{_ as N}from"./AdminLayout-UuArHr9B.js";import{_ as B}from"./SuccessMessage-BEDepiUA.js";const M={class:"bg-light-primary-1 dark:bg-dark-primary-2 p-5 rounded-lg space-y-3 shadow-lg"},V={key:0,class:"text-red-500"},D={__name:"Create",setup(C){const a=o({content:null}),r=o([]),c=d(()=>r.value),n=o(""),u=async()=>{try{const e=await y.post(i("pesan.store"),{content:a.value.content});e.status==201&&(r.value=[e.data.message],setTimeout(()=>{h.visit(i("pesan.index",{method:"get"}))},500)),a.value.content=null}catch(e){e.response&&e.response.data.errors?n.value=e.response.data.errors.content[0]:n.value="Terjadi kesalahan saat mengirim pesan."}};return(e,t)=>(l(),p(N,{title:"Format Pesan"},{default:f(()=>[g(B,{class:"w-full",messages:c.value},null,8,["messages"]),s("div",M,[s("form",{onSubmit:v(u,["prevent"])},[s("div",null,[t[1]||(t[1]=s("label",{for:"content",class:"block mb-1 text-sm dark:text-white"}," Pesan ",-1)),x(s("input",{type:"text",id:"content",name:"content","onUpdate:modelValue":t[0]||(t[0]=m=>a.value.content=m),class:"border p-2 rounded-lg w-full text-sm",placeholder:"Masukkan pesan"},null,512),[[k,a.value.content]]),n.value?(l(),_("span",V,w(n.value),1)):b("",!0)]),t[2]||(t[2]=s("button",{type:"submit",class:"mt-4 bg-green-500 text-white px-4 py-2 rounded-lg text-sm"}," Kirim Pesan ",-1))],32)])]),_:1}))}};export{D as default};
